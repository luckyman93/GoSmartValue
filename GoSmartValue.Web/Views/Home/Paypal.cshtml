@using AV.Common
@using AV.Contracts
@using AV.Contracts.Models
@using GoSmartValue.Web.Services
@model string
@inject CachedStorageService CachedStorageService

<script src="https://www.paypal.com/sdk/js?client-id=AWiGuoWdH33VNF8Aim-HlCZm6KtrIpCzFclhTjkQuAmFpY6RUQ4dtgtVEICZNXc9tQTzZdmiPKZmVimW">
</script>


<div class="outer container-fluid" style="background-image:url(/pay.jpg);background-size:cover;height:100vh">
	<div class="middle container-fluid" style="padding-top:75px">
		<div class=" inner container-fluid" style="height:300px;margin:auto;max-width:1090px;max-height:100%;">

			<div class="box-shadow col-md-4 container-fluid" style="background-color: #ffffff;height:100%;box-shadow: 31px 14px 0px darkred;">
				<div class="container-fluid">

					<div id="paypal-products" class="row">
						<div class=" col-md-12 col-centered">
							@if (string.Equals(ViewBag.Product, Constants.BasicAccount, StringComparison.CurrentCultureIgnoreCase))
							{
								<div class="tab card-body">
									<div class="card-header">
										<h4 class="card-title">Payment now due for your GoSmartValue account.</h4>
									</div>
									<div class="card-body">
										<p>
											<div id="paypal-button" class="form-row">
												<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
													<input type="hidden" name="cmd" value="_s-xclick">
													<input type="hidden" name="hosted_button_id" value="QGAHNNGBPC5JL">
													<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_paynowCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
													<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
												</form>

											</div>
										</p>
									</div>
								</div>
							}

							@if (string.Equals(ViewBag.Product, Constants.MonthlyAccount, StringComparison.CurrentCultureIgnoreCase))
							{
								<div class="tab card-body">
									<div class="card-header">
										<h4 class="card-title">Payment now due for your GoSmartValue account.</h4>
									</div>
									<div class="card-body">
										<p>
											<div id="paypal-button" class="form-row">
												<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
													<input type="hidden" name="cmd" value="_s-xclick">
													<input type="hidden" name="hosted_button_id" value="94YLHCRJ8Z4FL">
													<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_paynowCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
													<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
												</form>
											</div>
										</p>
									</div>
								</div>
							}

							@if (string.Equals(ViewBag.Product, Constants.YearlyAccount, StringComparison.CurrentCultureIgnoreCase))
							{
								<div class="tab card-body">
									<div class="card-header">
										<h4 class="card-title">Payment now due for your GoSmartValue account.</h4>
									</div>
									<div class="card-body">
										<p>
											<div id="paypal-button" class="form-row">
												<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
													<input type="hidden" name="cmd" value="_s-xclick">
													<input type="hidden" name="hosted_button_id" value="GLJ9Z486EZ5GW">
													<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_paynowCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
													<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
												</form>
											</div>
										</p>
									</div>
								</div>
							}


							@if (string.Equals(ViewBag.Product, Constants.InstantReport, StringComparison.CurrentCultureIgnoreCase))
							{
								<div class="tab card-body">
									<div class="card-header">
										<h4 class="card-title">Payment due for your instant report.</h4>
									</div>
									<div class="card-body">
										<p>
											<div id="paypal-button" class="form-row">
												<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
													<input type="hidden" name="cmd" value="_s-xclick">
													<input type="hidden" name="hosted_button_id" value="DHEAJ8ZLJKVG8">
													<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_paynowCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
													<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
												</form>

											</div>
										</p>
									</div>
								</div>
							}

							@if (string.Equals(ViewBag.Product, Constants.AccountSetup, StringComparison.CurrentCultureIgnoreCase))
							{
								<div class="tab card-body">
									<div class="card-header">
										<h4 class="card-title">Payment due for your account setup.</h4>
									</div>
									<div class="card-body">
										<p>
											<div id="paypal-button" class="form-row">
												<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
													<input type="hidden" name="cmd" value="_s-xclick">
													<input type="hidden" name="hosted_button_id" value="QGAHNNGBPC5JL">
													<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_paynowCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
													<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
												</form>
											</div>
										</p>
									</div>
								</div>
							}

							@if (string.Equals(ViewBag.Product, Constants.DetailedReport, StringComparison.CurrentCultureIgnoreCase))
							{
								<div class="tab card-body">
									<div class="card-header">
										<h4 class="card-title">Payment due for detailed report.</h4>
									</div>
									<div class="card-body">
										<div class="alert alert-success" style="margin-top: 50%">
											<strong>Thank you!</strong>
											<p>
												Your detailed report will be sent
												<br>within 1 hour of confirmation of property details
												<br>by a registered valuer.
											</p>
											<p>Thank you.</p>

										</div>
										<div class="form-row">
											@Html.ActionLink("Dashboard", "Index", "Valuations", new { Area = "user" })
										</div>
										@*<div id="paypal-button" class="form-row">

												<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
													<input type="hidden" name="cmd" value="_s-xclick">
													<input type="hidden" name="hosted_button_id" value="SBTJQKEQZNB4W">
													<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_paynowCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
													<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
												</form>

											</div>*@
									</div>
								</div>
							}

							@if (string.Equals(ViewBag.Product, Constants.CorporateQuarterly, StringComparison.CurrentCultureIgnoreCase))
							{
								<div class="tab card-body">
									<div class="card-header">
										<h4 class="card-title">Payment due for quarterly billed corporate account.</h4>
									</div>
									<div class="card-body">
										<p>
											<div id="paypal-button" class="form-row">

												<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
													<input type="hidden" name="cmd" value="_s-xclick">
													<input type="hidden" name="hosted_button_id" value="Z5V8Y7HFYZWCG">
													<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_paynowCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
													<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
												</form>


											</div>
										</p>
									</div>
								</div>
							}

							@if (string.Equals(ViewBag.Product, Constants.CorporateYearly, StringComparison.CurrentCultureIgnoreCase))
							{
								<div class="tab card-body">
									<div class="card-header">
										<h4 class="card-title">Payment due for yearly billed corporate account.</h4>
									</div>
									<div class="card-body">
										<p>
											<div id="paypal-button" class="form-row">

												<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
													<input type="hidden" name="cmd" value="_s-xclick">
													<input type="hidden" name="hosted_button_id" value="5RPNDJ7VC7WRA">
													<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_paynowCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
													<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
												</form>

											</div>
										</p>
									</div>
								</div>
							}

							@if (string.Equals(ViewBag.Product, Constants.CorporateMonthly, StringComparison.CurrentCultureIgnoreCase))
							{
								<div class="tab card-body">
									<div class="card-header">
										<h4 class="card-title">Payment due for monthly billed corporate account.</h4>
									</div>
									<div class="card-body">
										<p>
											<div id="paypal-button" class="form-row">

												<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
													<input type="hidden" name="cmd" value="_s-xclick">
													<input type="hidden" name="hosted_button_id" value="WHBAR9KRNS8VQ">
													<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_paynowCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
													<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
												</form>

											</div>
										</p>
									</div>
								</div>
							}

						</div>
					</div>

				</div>
			</div>
		</div>

	</div>
</div>








<script>

	var currentTab = 0; // Current tab is set to be the first tab (0)
	showTab(currentTab); // Display the current tab

	function SetPropertyFeatures() {
		$('#Features')
			.find('option')
			.remove();

		$('#propertyfeatures input:checked').each(function () {
			var feature = $(this);
			$('#Features').append('<option value="' + feature.val() + '">' + feature.innerHtml(+'</option>'));
		});
	};

	function showTab(n) {
		// This function will display the specified tab of the form ...
		var x = document.getElementsByClassName("tab");
		x[n].style.display = "block";
		// ... and fix the Previous/Next buttons:
		if (n === 0) {
			document.getElementById("prevBtn").style.display = "none";
			document.getElementById("nextBtn").innerHTML = "Get Valuation Report";

		} else {
			document.getElementById("prevBtn").style.display = "inline";
			document.getElementById("nextBtn").innerHTML = "Next";
		}
		if (n === (x.length - 1)) {
			document.getElementById("makeReportRequestBtn").style.display = "inline";
			document.getElementById("nextBtn").style.display = "none";
		} else {
			document.getElementById("nextBtn").style.display = "inline";
			document.getElementById("makeReportRequestBtn").style.display = "none";
			SetPropertyFeatures();
		}
		// ... and run a function that displays the correct step indicator:
		fixStepIndicator(n);
	};

	function nextPrev(n) {
		// This function will figure out which tab to display
		var x = document.getElementsByClassName("tab");
		// Exit the function if any field in the current tab is invalid:
		if (n === 1 && !validateForm()) return false;
		// Hide the current tab:
		x[currentTab].style.display = "none";
		// Increase or decrease the current tab by 1:
		currentTab = currentTab + n;
		// if you have reached the end of the form... :
		if (currentTab >= x.length) {
			//...the form gets submitted:
			document.getElementById("regForm").submit();
			return false;
		}
		// Otherwise, display the correct tab:
		showTab(currentTab);
		return true;
	};

	function validateForm() {
		// This function deals with validation of the form fields
		var x, y, i, valid = true;
		x = document.getElementsByClassName("tab");
		y = x[currentTab].getElementsByTagName("input");
		// A loop that checks every input field in the current tab:
		for (i = 0; i < y.length; i++) {
			// If a field is empty...
			if (y[i].value === "") {
				// add an "invalid" class to the field:
				y[i].className += " invalid";
				// and set the current valid status to false:
				valid = false;
			}
		}
		// If the valid status is true, mark the step as finished and valid:
		if (valid) {
			document.getElementsByClassName("step")[currentTab].className += " finish";
		}
		return valid; // return the valid status
	};

	function fixStepIndicator(n) {
		// This function removes the "active" class of all steps...
		var i, x = document.getElementsByClassName("step");
		for (i = 0; i < x.length; i++) {
			x[i].className = x[i].className.replace(" active", "");
		}
		//... and adds the "active" class to the current step:
		x[n].className += " active";
	};

</script>